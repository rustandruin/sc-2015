\section{Experimental Setup}
\label{sec:setup}

\subsection{Empirical Orthogonal Function analysis of ocean temperatures}
The most widely used tool for extracting important patterns from the
measurements of atmospheric and oceanic variables is the Empirical Orthogonal
Function (EOF) technique. EOFs are popular because of their simplicity and
their ability to reduce the dimensionality of large nonlinear, high-dimensional
systems into fewer dimensions while preserving the most important patterns of
variations in the measurements. Mathematically, EOFs are exactly PCA decompositions.

Traditionally, ocean data EOFs have been calculated for surface fields due to
the complications arising from dealing with the amount of data in the full 3D fields. 
However, the EOF modes extracted from such data only
contain projections of complex 3D patterns involving deeper layers of the
ocean on to the surface. A better understanding of the dynamics of large-scale
modes of variability in the ocean may be extracted from full 3D EOFs including
many layers of the ocean. 

We applied our PCA implementation in Spark to the analysis of the ocean
temperature fields from 31 years worth of ocean temperature measurements taken
at 6 hours increments over a global 360-by-720-by-40 global grid, extracted
from the Climate Forecast System Reanalysis Product~\cite{Saha:2010ji}.
Unfolding each set of observations into a long vector yields a 2.2 TB matrix.
To the best of our knowledge, this is the first published work where a 3D
climate field of this magnitude has been subjected to EOF analysis.

\subsection{Platforms}

  \begin{table*}
    \begin{center}
    \begin{tabular}{| l | c | c | c | c | c | c | c |}
    \toprule
    \textbf{Platform} & \textbf{Total Cores} & \textbf{Core Frequency} & \textbf{Interconnect} & \textbf{DRAM} & \textbf{SSDs} \\
    \midrule
    Amazon EC2 \texttt{r3.8xlarge} & 960 (32 per-node) & 2.5 GHz & 10 Gigabit Ethernet & 244 GiB & 2 x 320 GB \\
    \midrule
    Cray XC40 & 960 (32 per-node) & 2.3 GHz & Cray Aries~\cite{alverson2012cray,craycascadesc12} & 128 GiB & None \\
    \midrule
    Experimental Cray cluster & 960 (24 per-node) & 2.5 GHz & Cray Aries~\cite{alverson2012cray,craycascadesc12} & 126 GiB & 1 x 800 GB \\
    \bottomrule
    \end{tabular}
    \end{center}
    \caption{Specifications of the three hardware platforms used in these performance experiments.}
    \label{tab:hwspecs}
  \end{table*}

 In order to assess the relative performance of CX and PCA matrix factorization on various hardware, we choose the following contemporary platforms:
 \begin{itemize}
 \item a Cray\textregistered~XC40\textsuperscript{\tiny\texttrademark}
 system~\cite{alverson2012cray,craycascadesc12},
 \item an experimental Cray cluster, and
 \item an Amazon EC2 \texttt{r3.8xlarge} cluster.
 \end{itemize}

 For all platforms, we sized the Spark job to use 960 executor cores (except as
 otherwise noted).  Table~\ref{tab:hwspecs} shows the full specifications of
 the three platforms. Note that these are state-of-the-art configurations in
 datacenters and high performance computing centers. 

